<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>My Page</title>
    <style>
      /* Set the overall style for the page */
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
      }
      
      /* Set the style for the left sidebar */
      .sidebar {
        background-color: #333;
        color: #fff;
        width: 200px;
        height: 100vh;
        position: fixed;
        
        top: 0;
        padding: 20px;
      }
      .left{
        left: 0;
        }
      .right {
        right:0px;
        
        }
        #metaData{
          background:white;
          color: black;
          
          }
      /* Set the style for the main page content */
      .content {
        margin-left: 250px;
        padding: 20px;
      }
      
      /* Set the style for the textarea and button */
      textarea {
        width: 90%;
        height: 200px;
        padding: 10px;
        font-size: 16px;
        border: 2px solid #ccc;
        border-radius: 5px;
        resize: none;
      }
      
      button {
        background-color: #4CAF50;
        color: #fff;
        border: none;
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 5px;
        cursor: pointer;
      }
      button.question{
        background-color: white;
        color: black;
        border: none;
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 5px;
        cursor: pointer;
        
      }
      button:hover {
        background-color: #3e8e41;
      }
    </style>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  </head>
  <body>
    <div class="left sidebar">
      <h2>Your profile</h2>
      <textarea  id="resume" placeholder="Enter some text here..."></textarea>
      <button onclick="askai('resume',resskills',0)">Skills List</button>    <button onclick="askai('resume','resskills',1)">Job title</button>
      <div id='resskills' style='height:200px;overflow:auto'></div>
    </div>
    <div class="content">
      <div id='metaData'>
      <h1>Job description based on your profile /Resume</h1>
      <p> main page content. It can include text, images, and other elements.</p>
      <label id='jdskills'></label>
 
      <textarea  id="description" placeholder="Enter a job description..."></textarea>
      <div id="extras">
        
        </div>
      
      </div>
    </div>
<script>
  var questions = ["List all the linkedin skills based on this ","List suitable job titles for this resume"];
  var jd_questions = ["List 10 interview questions based on this job description:"]; 
  var scriptkey = "AKfycbwPfgbUDEaZF_aGu6QNT3Nmzvx9SK290QUWRGC66PLSM3xVCOKsRqEjldWPvvGwiF2aIA";
  function addQuestions(){
   for(i=0; i < jd_questions.length;i++){
     
    $("#extras").append('<button class="question" >'+ jd_questions + '</button><div class="answer"></div>');   
     
   }
    $(".question").click(function(){
      
      prompt = $(this).text() + $("#description").val();
      askai_generic(prompt, $(this).next());
      
    });
    
  }
  addQuestions();
  
   function askai_generic(prompt,container){
        
        
        url ="https://script.google.com/macros/s/"+scriptkey+"/exec"
        $.post( url, { Q: prompt, W: "you are an assistant" })
            .done(function( data ) {
                 //console.log(data);
            $(container).append(data.replaceAll('\n','<br>'));

            })
      .fail(function( error ) {
        console.error( "Error saving data: " + error );
      });
    }
  function askai(input,container,q){
        prompt = questions[q] + $("#"+input).val();
        scriptkey = "AKfycbwPfgbUDEaZF_aGu6QNT3Nmzvx9SK290QUWRGC66PLSM3xVCOKsRqEjldWPvvGwiF2aIA";
        url ="https://script.google.com/macros/s/"+scriptkey+"/exec"
        $.post( url, { Q: prompt, W: "you are an assistant" })
        .done(function( data ) {
             //console.log(data);
        $("#"+container).append('<div style="padding: 4px;bottom: 0px;overflow: overlay;color:white" cols="20" class="" rows="20">'+data.replaceAll('/n',' , ')+'</div>');
   
        })
  .fail(function( error ) {
    console.error( "Error saving data: " + error );
  });
    }

</script>


</body>
</html>
